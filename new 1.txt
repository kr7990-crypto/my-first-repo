#include <stdio.h>

double adjust_price(double price, int sold) {
    if (sold >= 100) return price * 1.10;   // +10%
    else if (sold >= 50) return price * 1.05;  // +5%
    else return price * 0.95;   // -5%
}

int main() {
    int n, sold;
    double price, new_price, value, total = 0;
    char name[50];

    printf("Enter number of products: ");
    scanf("%d", &n);
    getchar(); // clear newline

    for (int i = 1; i <= n; i++) {
        printf("\nEnter name of product %d: ", i);
        scanf(" %[^\n]", name);  // read string with spaces

        printf("Enter current price (Rs.): ");
        scanf("%lf", &price);

        printf("Enter units sold: ");
        scanf("%d", &sold);

        // validation for negative inputs
        if (price < 0 || sold < 0) {
            printf("\n Invalid input! Price or quantity cannot be negative.\n");
            printf("Product '%s' skipped.\n", name);
            continue;  // skip to next product
        }

        new_price = adjust_price(price, sold);
        value = new_price * sold;
        total += value;

        printf("\n--- Updated info for product %d ---\n", i);
        printf("Name              : %s\n", name);
        printf("Old price         : %.2f\n", price);
        printf("Units sold        : %d\n", sold);
        printf("Updated price     : %.2f\n", new_price);
        printf("Inventory value   : %.2f\n", value);
    }

    printf("\n=====================================\n");
    printf("Total inventory value : Rs. %.2f\n", total);
    printf("=====================================\n");

    return 0;
}
